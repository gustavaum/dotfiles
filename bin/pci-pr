#!/bin/sh

function die() {
    echo $@
    exit 1
}

grep -q 'refs/pull' .git/config || die "This repo doesn't track pull requests"
[[ -z $1 ]] && die "No PR number provided"
branch=`git rev-parse --abbrev-ref HEAD`
[[ "$branch" != "master" ]] && die "Not on master. You'll need to merge manually"
echo "Cherry picking PR #${1}"
git cherry-pick -s ..origin/pr/$1

